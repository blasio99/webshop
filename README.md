# Webshop project

![GitHub repo size](https://img.shields.io/github/repo-size/scottydocs/README-template.md)

Software Design Laboratory - Project - Spring, 2021

> Technical University of Cluj-Napoca\
Computer Science\
2021, Spring

## **Usage**

### Clone the repository

- **``
git clone https://github.com/blasio99/webshop.git
``**

### Configure the database connection

- Go to the **`webshop\webshop-server\src\main\resources`** folder
- Use the **`application.properties`** file as a template
- Create your own properties file with the name, for example, **`application-dev.properties`**
- At **`line 6`** personalize your database details
- At **`line 8 and 9`** set your **`username`** and **`password`** for the database

### Insert some personal data to the database

- Go to the **`webshop\webshop-server\src\main\resources`** folder
- In the **`import.sql`** file modify the entries with your own ones
  
___

## **Documentation**

### **Objective**

The objective of this assignment is to allow students to become familiar with MVC architectural pattern, services, repository and unit tests.

### **Application Description**

Use JAVA Spring/C# Web API to design and implement a Webshop Application. The application should have two types of users (client and admin) which must provide an email and a password to use the application.  

The __admin__ can perform the following operations:

- __Login__
- __CRUD on clients__. When you create a client, a 128 characters token is created. Using that token client should be able to register. The application will send the token by email manually (not part of the scope of the application).
- Can add/edit/delete Products.
- __CRUD on orders__.

The client can perform the following operations:  

- Register using the token generated by the application, at this step they must provide the password.
- Login with the username and password.
- View a list of products.
- Create and view the cart.
- Place an order and pay it.

### __Application Constraints__

- The data will be stored in a relational database. Database model should respect 1st, 2nd and 3rd normal forms and proper relations between tables (1:1, 1:n, m:n)
- Use the MVC architectural pattern to organize your application. For this assignment we will create only the backend part (Model, Controller, Services (Business layer) and Repositories).
- API design should be RESTful (and not SOAP)
- Use an ORM (Hibernate / Entity framework) to access the database
- Use dependency injection to inject Services in Controllers and Repositories in Services
- Install and use Swagger to call your APIs / Or provide a Postman collection
- Connection string and magic strings should be stored in a separate config file  
  
### **Approach**

- The system is based on the client-server architecture
- The backend server will be implemented as a Java Spring application following an enterprise architecture comprising a data access layer, a service layer as well as an API layer. For data access a MySql database is used, while the API falls into the RESTful category. All of this is made possible by the Spring framework

## **Design**

___

### **BACKEND**

The Layers architectural pattern will also be used in order to structure the application by diving it into groups of subtasks based on their functional responsibility.  

By using this pattern, the maintainability of the application and the reusability of components are considerably improved.
There 4 types of layers:

- `Presentation Layer`
- `Model Layer`
- `Service Layer`
- `Repository Layer`

### **Model Layer**

Firstly we identify the entities representing the problem at hand, namely: `User` (admin or client),`SecureToken`.

### **Repository Layer**

This layer is for manipulating the data in the database. In this case there is needed to create for each model class a Data Access Object which, in this project, will be interfaces extending Spring's CrudRepository generic interface.

As far as implementation goes, we simply extend the generic `CrudRepository<M, ID>` interface provided by Spring with the corresponding interfaces, that being

- `UserRepository<User, Long>`
- `SecureTokenRepository<SecureToken, Long>`

and add any specific query methods(if needed) and then the rest of the implementation is automatically generated upon the start of the application.

**Mention**: The implementation of database access is handled automatically by Hibernate, embedded in the Spring Data JPA module.

### **Service Layer**

In this layer every model class gets a corresponding Service class which makes operations on the given model class based on what is needed and specified by the project description.

```{build.gradle}
dependencies {
    Model Layer
    Repository Layer
}
```

### **Presentation Layer (API Layer)**

In most cases the Presentation Layer is the view part of a project, but since we have a frontend we just simplifying the data in JSON format which is sent to the **frontend**.

**Mention**: we work with REST API

## **Contributing**

Contributions are what make the open source community such an amazing place to be learn, inspire, and create. Any contributions you make are **greatly appreciated**.  

- Fork the Project  
- Create your Feature Branch ( **`git checkout -b feature/AmazingFeature`** )
- Commit your Changes ( **`git commit -m 'Add some AmazingFeature'`** )
- Push to the Branch ( **`git push origin feature/AmazingFeature`** )
- Open a Pull Request  

## **Contact**

- Benedek Bal√°zs - [LinkedIn Profile](https://www.linkedin.com/in/balazs-benedek-009322183/)
- E-mail: benedekbalazs1999@gmail.com
- Project Link: [GitHub - Webshop](https://github.com/blasio99/webshop)

___

## **References**

Software Design Course @TUCN

[REST Controllers in Java using Spring](https://www.baeldung.com/category/rest/)

[Spring Data JPA](https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa)

[Dependency Injection in Spring](https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring)
